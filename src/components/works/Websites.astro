---
import H from "@/utils/H";
import Photo from "@/utils/Photo";

const projects = [
  {
    id: "esteticoptima",
    img: "esteticoptima.webp",
    href: "https://estetic.optimamedical.pl",
    title: "Estetic Optima",
    category: "Medical Website",
    description: "Modern aesthetic medicine clinic website with treatment showcase.",
    tags: ["üè• Medical", "üì± Responsive"],
  },
  {
    id: "optimamedical",
    img: "optimamedical.webp",
    href: "https://optimamedical.pl",
    title: "Optima Medical",
    category: "Healthcare Platform",
    description: "Comprehensive healthcare platform with medical services showcase.",
    tags: ["üè• Healthcare", "üë• Patient Portal"],
  },
  {
    id: "sklepoptima",
    img: "sklepoptima.webp",
    href: "https://sklep.optimamedical.pl",
    title: "Sklep Optima",
    category: "E-commerce",
    description: "Glasses store with product catalog.",
    tags: ["üõí E-commerce", "üí≥ Payments"],
  },
  {
    id: "akademiawisly",
    img: "akademiawisly.webp",
    href: "https://akademiawislycanpack.pl",
    title: "Akademia Wis≈Çy",
    category: "Sports Academy",
    description: "Professional football academy website with player profiles and match schedule.",
    tags: ["‚öΩ Sports", "üìä Game schedule"],
  },
  {
    id: "poznajgory",
    img: "poznajgory.webp",
    href: "https://poznajgory.pl",
    title: "Poznaj G√≥ry",
    category: "Travel Platform",
    description: "Mountain exploration platform with hiking trails, accommodation booking and guides.",
    tags: ["üèîÔ∏è Travel", "üó∫Ô∏è Maps"],
  },
  {
    id: "redinn",
    img: "redinn.webp",
    href: "https://redinnlabs.com",
    title: "Redinn Labs",
    category: "Agency Website",
    description: "Web development agency showcase with portfolio and service offerings.",
    tags: ["üíº Business", "üé® Portfolio"],
  },
  {
    id: "pieninskipotok",
    img: "pieninski-potok.webp",
    href: "https://pieninskipotok.pl",
    title: "Pieni≈Ñski Potok",
    category: "Accommodation",
    description: "Mountain guesthouse website with booking system and local attractions guide.",
    tags: ["üè† Accommodation", "üìÖ Booking"],
  },
  {
    id: "uwiktorka",
    img: "u-wiktorka.webp",
    href: "https://domekuwiktorka.pl",
    title: "U Wiktorka",
    category: "Holiday Rental",
    description: "Cozy mountain cottage rental with availability calendar and local recommendations.",
    tags: ["üè° Rental", "üìç Location"],
  },
];
---

<H text="Frontend Development" />
<p data-aos="fade-right" class="paragraph">
  Having founded my own web development agency, <a href="https://redinnlabs.com" target="_blank" class="gradient-text"
    >Redinn</a
  >, I've had the opportunity to work on a variety of clients from different industries. Each project represents a
  unique challenge!
</p>

<section data-aos="fade-up" class="projects-slider" id="projects-glide">
  <div class="glide__track" data-glide-el="track">
    <ul class="glide__slides">
      {
        projects.map(project => (
          <li class="glide__slide">
            <article class="project-card group">
              <a href={project.href} target="_blank" rel="nofollow noopener" class="project-link">
                <div class="project-image">
                  <Photo
                    className="w-full h-full object-cover"
                    src={project.img}
                    alt={`${project.title} screenshot`}
                    sizes={[480, 720]}
                  />
                  <div class="project-overlay">
                    <div class="project-content">
                      <h3 class="project-title">{project.title}</h3>
                      <p class="project-category">{project.category}</p>
                      <p class="project-description">{project.description}</p>
                      <div class="tag-container">
                        {project.tags.map(tag => (
                          <span class="tag tag-dark">{tag}</span>
                        ))}
                      </div>
                    </div>
                  </div>
                </div>
              </a>
            </article>
          </li>
        ))
      }
    </ul>
  </div>
  <div class="glide__arrows" data-glide-el="controls">
    <button class="glide__arrow glide__arrow--left" data-glide-dir="<">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        ></path>
      </svg>
    </button>
    <button class="glide__arrow glide__arrow--right" data-glide-dir=">">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        ></path>
      </svg>
    </button>
  </div>
  <div class="glide__bullets" data-glide-el="controls[nav]">
    {projects.map((_, index) => <button class="glide__bullet" data-glide-dir={`=${index}`} />)}
  </div>
</section>

<style>
  @import "~/global.css" reference;

  /* Glide.js Core Styles */
  .glide {
    @apply relative w-full overflow-hidden;
    box-sizing: border-box;
  }

  .glide * {
    box-sizing: inherit;
  }

  .glide__track {
    @apply overflow-hidden;
  }

  .glide__slides {
    @apply relative w-full flex m-0 px-0 py-8;
  }

  .glide__slide {
    @apply h-auto mr-6;
    width: 320px;
    min-width: 320px;
    white-space: initial;
    user-select: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }

  .glide__slide:last-child {
    @apply mr-0;
  }

  .project-card {
    @apply relative h-full;
  }

  .project-link {
    @apply block w-full h-full transition-transform duration-300 ease-out;
  }

  .project-link:hover {
    @apply transform -translate-y-1;
  }

  .project-image {
    @apply relative w-full aspect-[2/3] rounded-2xl overflow-hidden shadow-lg
           transition-shadow duration-300 ease-out;
  }

  .project-overlay {
    @apply absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent 
           opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-out
           flex items-end p-4;
  }

  .project-content {
    @apply w-full transform translate-y-4 group-hover:translate-y-0 
           transition-transform duration-300 ease-out;
  }

  .project-title {
    @apply text-lg font-bold text-white mb-1;
    font-family: "Prata", serif;
  }

  .project-category {
    @apply text-xs text-primary-300 mb-2 font-semibold uppercase;
  }

  .project-description {
    @apply text-xs text-gray-200 mb-3 line-clamp-2;
  }

  /* Glide.js Arrow Styles */
  .glide__arrows {
    @apply flex justify-between items-center absolute top-1/2 left-0 right-0 z-10;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .glide__arrow {
    @apply w-14 h-14 bg-black/20 border-2 border-black/40 rounded-full
           flex items-center justify-center text-white transition-all duration-300
           hover:bg-black/40 hover:scale-110 
           disabled:opacity-50 disabled:cursor-not-allowed shadow-lg cursor-pointer;
    backdrop-filter: blur(8px);
    pointer-events: auto;
    transform: translateX(0);
  }

  .glide__arrow--left {
    @apply translate-x-8;
  }

  .glide__arrow--right {
    @apply -translate-x-8;
  }

  /* Glide.js Bullets Styles */
  .glide__bullets {
    @apply flex justify-center gap-3 mt-4;
  }

  .glide__bullet {
    @apply w-4 h-4 bg-black/10 border-2 border-black/40 rounded-full transition-all duration-300
           hover:bg-black/40 hover:border-black/60 hover:scale-110 cursor-pointer shadow-lg;
    backdrop-filter: blur(8px);
  }

  .glide__bullet--active {
    @apply bg-black/50 border-black/60 scale-125;
  }

  @media (max-width: 768px) {
    .glide__slide {
      @apply mr-4;
      width: 280px;
      min-width: 280px;
    }

    .glide__arrow {
      @apply w-12 h-12;
    }

    .glide__arrow--left {
      @apply -translate-x-2;
    }

    .glide__arrow--right {
      @apply translate-x-2;
    }
  }
</style>

<!-- Glide.js CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.min.css" />
<script async src="https://cdn.jsdelivr.net/npm/@glidejs/glide@3.6.0/dist/glide.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // @ts-ignore - Glide is loaded from CDN
    const glide = new Glide("#projects-glide", {
      type: "carousel",
      startAt: 0,
      perView: 4,
      gap: 24,
      peek: {
        before: 0,
        after: 50,
      },
      autoplay: 4000,
      hoverpause: true,
      animationDuration: 600,
      animationTimingFunc: "cubic-bezier(0.25, 0.46, 0.45, 0.94)",
      bound: true,
      breakpoints: {
        1280: {
          perView: 3,
          gap: 20,
          peek: {
            before: 0,
            after: 40,
          },
        },
        1024: {
          perView: 2.5,
          gap: 16,
          peek: {
            before: 0,
            after: 30,
          },
        },
        768: {
          perView: 2,
          gap: 16,
          peek: {
            before: 0,
            after: 20,
          },
        },
        640: {
          perView: 1.2,
          gap: 12,
          peek: {
            before: 0,
            after: 30,
          },
        },
      },
    });

    glide.mount();
  });
</script>
